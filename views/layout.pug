doctype html
html(lang="nl")
  head
    meta(charset="utf-8")
    meta(name="viewport", content="width=device-width, initial-scale=1")
    title= title
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css")
  body.p-4
    // Header / top bar
    .container
      .d-flex.justify-content-end.gap-2.mb-3
        // Alleen admin ziet deze knop
        if sessionUser && sessionUser.role === 'admin'
          a.btn.btn-success.btn-sm(href='/auth/register') + Medewerker registreren
        if sessionUser
          a.btn.btn-outline-danger.btn-sm(href='/auth/logout') Logout
        else if currentPath !== '/auth/login'
          a.btn.btn-outline-primary.btn-sm(href='/auth/login') Login

    // Pagina-inhoud
    block content

    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js")
    script.
      document.addEventListener('DOMContentLoaded', function () {
        // Sluit alerts met data-autohide="true" na 5s
        document.querySelectorAll('.alert[data-autohide="true"]').forEach(function (el) {
          setTimeout(function () {
            try { bootstrap.Alert.getOrCreateInstance(el).close(); }
            catch (e) { el.remove(); }
          }, 5000);
        });
      });
